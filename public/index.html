<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="Description" content="Enter your description here"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css">    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js" defer></script>
    <title>Weather App</title>
    <link rel="stylesheet" href="css/styles.css">
  </head>
    <body class="home">
        <!--Bootstrap Grid for page -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Looking for Better Weather</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="./index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./ab.html">AB</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./bc.html">BC</a>
            </li>
        </div>
        </nav>  
        <!--Bootstrap Grid for page -->
        <div class="container_hm">
            <h1 class="header-text">Looking for better weather?</h1>
            <div class="row" >
                <!--column1-->
                <div class="col-sm" id="col1_hm">
                    <button type="button" class="btn btn-warning" id="ab_button"  value ="ab" onClick="abRedirect()">Alberta</button>
                </div>
                <!--column2-->
                <div class="col-sm" id="col2_hm">              
                    <button type="button" class="btn btn-warning" id="bc_button" onClick="bcRedirect()">British Columbia</button>                    
                </div>
            </div>
        </div>

        
        <p>latitude:<span id="latitude"></span>°<br /></p>
        <p>latitude:<span id="longitude"></span>°<br /></p>


        <!-- client side JavaScript    -->
        <script>
            //This is like the main.js

            //need to know which province to look at 
            // if(intValue === '1'|| intValue === 1){
            //     prov_object = ab_map;
            //     console.log('Alberta')
            // }else{
            //     prov_object = bc_map;
            //     console.log('BC')
            // }
            //send which province to the server
        
            function abRedirect(){
                window.location.href= 'ab.html';
                
            }

            function bcRedirect(){
                window.location.href= 'bc.html';
              
            }


            // if('geolocation' in navigator){
            //     console.log('Yes, we have geolocationing');
            //     //The Geolocation.getCurrentPosition() method is used to get the current position of the device.
            //     //this is going to happen asynchronously, only when it's ready to grab the lat & lon,
            //     // then this function (position) will be called
            //     //function(position) is a callback function that takes a 
            //     //GeolocationPosition object as its sole input parameter.

            //     //can us e an arrow here instead , the E6 convention        
            //     //navigator.geolocation.getCurrentPosition(function(position) {
            //     //get the current position and then when you are ready console.log it
            //     //Theremight be be a popup to get the useres approval for knowing their location

            //     //need to handle the reponse from the server(line49) as json
            //     //change this callback inside of getCurrentPosition to a async function
            //     // then add await to the fetch function

            //     //navigator.geolocation.getCurrentPosition(position => {
            //         navigator.geolocation.getCurrentPosition(async position => {
            //         //console.log(position);
            //         const lat = position.coords.latitude;
            //         const lon = position.coords.longitude;
            //         //now we have data acquired from the navigator.geolocation on the client, there is a server that is hosting the code
            //         //that is being sent to the client to run. next step is to reteive that information from the client and to be 
            //         //sent back to the server and saved in a database.
            //         document.getElementById('latitude').textContent = lat;
            //         document.getElementById('longitude').textContent = lon;

                    
            //         // //create an object to send the data that we retrieved from the geolocation function
            //         // const data = {lat,lon};
                  
            //         // //setting up a POST fetch function, sending the lat & lon to the our api on the server
            //         // //we want the body... the body of the post request is wherre I am packaging up all of my data
            //         // //JSON.stringify(data) - take the javaScript object data from above(line38)and turn it into a JSON string
            //         // //since we are sending data in a json formt it is good to specify that in a header
            //         // //this is the basic info : I want this data ro be sent as json, I want to tell you that it is going to be json
            //         // //and I want to post it to the API
            //         // //the method  and headers are called properties of options, hover to see
            //         // const options = {
            //         //     method:'POST',
            //         //     headers:{
            //         //         'Content-Type':'application/json'
            //         //     },
            //         //     body: JSON.stringify(data)
            //         // }

            //         //This is for data coming back from the server
            //         //fetch returns a promise, so I can handle the response sent for the server(line 45) here
            //         // //but need to add an await from the async function on line33
            //         // const response = await fetch('/api', options);
            //         // const server_json = await response.json()
            //         //     console.log(server_json);                    
            //     });                
            // } else{
            //     console.log('No geolocationing');
            // }        
        </script>

    </body>
</html>